# Pipeline Whisperer - Production Environment Configuration
# Copy this file to .env.production and fill in your values

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false

# =============================================================================
# SECURITY
# =============================================================================
# REQUIRED: Generate secure API keys using: openssl rand -hex 32
API_KEY_REQUIRED=true
API_KEYS=your-secure-api-key-1,your-secure-api-key-2

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# HTTPS/TLS
ENABLE_HTTPS=false

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=5000

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL (recommended for production)
DATABASE_URL=postgresql://pipeline:your-password@postgres:5432/pipeline_whisperer

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# PostgreSQL Credentials (for docker-compose)
POSTGRES_USER=pipeline
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=pipeline_whisperer

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_URL=redis://:your-redis-password@redis:6379/0
REDIS_ENABLED=true
REDIS_PASSWORD=your-redis-password-here
CACHE_TTL_SECONDS=300

# =============================================================================
# KAFKA/REDPANDA
# =============================================================================
REDPANDA_BROKERS=redpanda:9092
KAFKA_TOPIC_LEADS_RAW=leads.raw
KAFKA_TOPIC_LEADS_SCORED=leads.scored
KAFKA_TOPIC_OUTREACH_EVENTS=outreach.events
KAFKA_TIMEOUT_SECONDS=30

# =============================================================================
# SENTRY MONITORING
# =============================================================================
# Get your DSN from https://sentry.io
SENTRY_DSN_PYTHON=https://your-key@o123456.ingest.sentry.io/7890123
SENTRY_DSN_NEXTJS=https://your-key@o123456.ingest.sentry.io/7890124
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# =============================================================================
# EXTERNAL SERVICES - REQUIRED
# =============================================================================

# OpenAI API
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TIMEOUT_SECONDS=30.0
OPENAI_RETRY_ATTEMPTS=3
OPENAI_MAX_TOKENS=500

# Lightfield CRM
LIGHTFIELD_API_KEY=lf_...
LIGHTFIELD_BASE_URL=https://api.lightfield.ai/v1
LIGHTFIELD_TIMEOUT_SECONDS=30.0
LIGHTFIELD_RETRY_ATTEMPTS=3

# Truefoundry
TRUEFOUNDRY_API_KEY=tf_...
TRUEFOUNDRY_WORKSPACE=your-workspace-id
TRUEFOUNDRY_BASE_URL=https://api.truefoundry.com
TRUEFOUNDRY_TIMEOUT_SECONDS=30.0
TRUEFOUNDRY_RETRY_ATTEMPTS=3

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
DEMO_MODE=false
SIMULATE_LIGHTFIELD=false
LOG_LEVEL=INFO

# =============================================================================
# PERFORMANCE
# =============================================================================
ENABLE_COMPRESSION=true
WORKER_COUNT=4

# =============================================================================
# BACKUP
# =============================================================================
BACKUP_DIR=/backups
RETENTION_DAYS=30

# =============================================================================
# NEXT.JS WEB UI
# =============================================================================
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NODE_ENV=production
